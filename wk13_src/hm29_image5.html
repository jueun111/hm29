<!DOCTYPE html>
<html>

<head>
    <title>hm29 : 이미지 프리로딩과 정보 출력</title>
    <script>
        // 미리 로딩해둘 이미지 이름 배열
        var files = ["media/d.jpg",
            "media/c.jpg",
            "media/s.jpg",
            "media/dd.jpg",
            "media/nn.jpg"
        ];
       
        var imgs = new Array();
        for (var i = 0; i < files.length; i++) {
            imgs[i] = new Image(); // 메모리에 이미지 객체 생성
            imgs[i].src = files[i]; // 이미지 로딩
        }
        // 다음 이미지 출력
        var next = 1;
        

        function change(img) {
            img.src = imgs[next].src; // 이미지 변경
            var nameSplit =files[next].split('/');
            var nameText = document.getElementById("name");
            var nameText = document.getElementById("size");
            nameText.innerHTML="이미지 이름:"+nameSplit[1];
            nameText.innerHTML="폭:"+img.width+"높이:"+img.height;
            next++; // 다음 이미지
            next %= imgs.length; // 개수를 넘으면 처음으
        }

        function init(img){ 
            var nameSplit =files[next].split('/');
            var nameText = document.getElementById("name");
            var nameText = document.getElementById("size");
            img.src=files[next-1];
            nameText.innerHTML="이미지 이름:"+nameSplit[1];
            nameText.innerHTML="폭:"+img.width+"높이:"+img.height;
            }

       
    </script>
</head>

<body>
    <h3>이미지 프리로딩과 정보 출력</h3>
    <hr>
    이미지를 클릭하면 다음 이미지를 보여줍니다.<p>
        <img style="border:20px ridge wheat" src="media/d.jpg" alt="" width="" height="" onclick="change(this)" onload="init(this)">
        <p id="name"></p>
        <p id="size"></p>

</body>

</html>